
@{
    ViewBag.Title = "RegistroCN";
    Layout = "~/Views/_LayoutPage.cshtml";
}

<div class="pcoded-content">
    <div class="pcoded-inner-content">
        <div class="main-body">
            <div class="card">
                <div class="card-header bg-primary">
                    <h3><i class="fa fa-file-o" aria-hidden="true"></i> CUADRO DE NECESIDADES</h3>
                    <div class="card-header-right">
                        <ul class="list-unstyled card-option">
                            <li><i class="fa fa-window-maximize full-card" style="color:white"></i></li>
                        </ul>
                    </div>
                </div>
                <div class="card-block">
                    <div class="form-row">
                        <div class="form-group col-sm-2">
                            <label class="control-label">Anio</label>
                            <input type="number" id="txtFechaInicio" class="control-form" value="@ViewBag.Anio">
                        </div>
                        <div class="form-group col-md-4 m-3">
                            <button class="input-group-inverse btn btn-inverse" id="btnConsultar" data-toggle="tooltip" data-placement="bottom" title="Consultar"><i class="fa fa-search fa-lg" aria-hidden="true"></i></button>
                            <button class="input-group-inverse btn btn-primary" id="btnNuevo" data-toggle="tooltip" data-placement="bottom"><i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i></button>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <div class="table-responsive" id="divLista"></div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="modal custom-modal" tabindex="-1" role="dialog" aria-hidden="true" id="divPopupContainer" style="overflow-y:auto;">
                            <div class="modal-dialog modal-lg bg-personalizado" id="divPopupWindow" style="margin-top:30px;max-width:85%">
                                <div class="modal-content">
                                    <div id="divBarra" class="modal-header bg-personalizado" style="cursor:move">
                                        <h5 class="modal-title">Nuevo Registro</h5>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="form-group col-sm-4">
                                                <input type="hidden" class="control-form Popup" id="txtIdRegistro">
                                                <label class="control-label">Año CN</label>
                                                <input type="number" class="control-form Reque Popup" id="txtAnioCN" value="@ViewBag.AnioCN">
                                            </div>
                                            <div class="form-group col-sm-4">
                                                <label class="control-label">Fecha Registro</label>
                                                <input type="date" class="control-form Reque Popup" id="dttFechaRegistro" value="@ViewBag.Fecha">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-4">
                                                <label class="control-label">Oficina</label>
                                                <select id="cboOficina" class="control-form Reque Popup"></select>
                                            </div>
                                            <div class="form-group col-sm-3">
                                                <label class="control-label">Tipo de bien</label>
                                                <select id="cboTipoBien" class="control-form Reque Popup"></select>
                                            </div>
                                            <div class="form-group col-sm-3 m-2">
                                                <button class="btn btn-out waves-effect waves-light btn-info btn-square" id="btnConsutarItems"><i class="fa fa-search-plus" aria-hidden="true"></i></button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-3">
                                                <label class="control-label">Estado</label>
                                                <select id="cboEstado" class="control-lectura Reque Popup"></select>
                                            </div>
                                            <div class="form-group col-sm-3">
                                                <label class="control-label">Personal</label>
                                                <select id="cboPersonal" class="control-form Reque Popup"></select>
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row m-2">
                                            <div class="form-group col-sm-12">
                                                <div class="table-responsive" style="height:315px;">
                                                    <table class='grilla bordered'>
                                                        <thead>
                                                            <tr class='FilaHead'>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:50px; display: none">Item</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:100px;">Código</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:500px;">Descripción</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:80px;">Unidad Medida</th>
                                                                <th colspan="4">I Trimestre</th>
                                                                <th colspan="4">II Trimestre</th>
                                                                <th colspan="4">III Trimestre</th>
                                                                <th colspan="4">IV Trimestre</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:10px;">Cant. Total</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:10px;">Precio</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:10px;">SubTotal</th>
                                                                <th rowspan="2" style="white-space:pre-wrap;width:10px;"></th>
                                                            </tr>
                                                            <tr class='FilaHead'>
                                                                <th style="white-space:pre-wrap; width:70px;">ENE</th>
                                                                <th style="white-space:pre-wrap; width:70px;">FEB</th>
                                                                <th style="white-space:pre-wrap; width:70px;">MAR</th>
                                                                <th style="white-space:pre-wrap; width:70px;">TOTAL</th>
                                                                <th style="white-space:pre-wrap; width:70px;">ABR</th>
                                                                <th style="white-space:pre-wrap; width:70px;">MAY</th>
                                                                <th style="white-space:pre-wrap; width:70px;">JUN</th>
                                                                <th style="white-space:pre-wrap; width:70px;">TOTAL</th>
                                                                <th style="white-space:pre-wrap; width:70px;">JUL</th>
                                                                <th style="white-space:pre-wrap; width:70px;">AGO</th>
                                                                <th style="white-space:pre-wrap; width:70px;">SET</th>
                                                                <th style="white-space:pre-wrap; width:70px;">TOTAL</th>
                                                                <th style="white-space:pre-wrap; width:70px;">OCT</th>
                                                                <th style="white-space:pre-wrap; width:70px;">NOV</th>
                                                                <th style="white-space:pre-wrap; width:70px;">DIC</th>
                                                                <th style="white-space:pre-wrap; width:70px;">TOTAL</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="tbDetalleCN"></tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-12">
                                                <span id="spnNroItems" class="control-label">Items: 0</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button id="btnCancelar" class="btnCancelarForm" title="Cancelar"><i class="fa fa-undo" aria-hidden="true"></i>&nbsp;Cancelar</button>
                                        <button id="btnGuardar" class="btnGuardarForm bg-customer" title="Guardar datos"><span class="fa fa-save"></span>&nbsp;Grabar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="modal custom-modal" tabindex="-1" role="dialog" aria-hidden="true" id="divPopupContainerForm1" style="overflow-y:auto;">
                            <div class="modal-dialog modal-lg bg-personalizado" id="divPopupWindowForm1">
                                <div class="modal-content">
                                    <div id="divBarraForm1" class="modal-header bg-personalizado" style="cursor:move">
                                        <h5 class="modal-title">Seleccionar Items</h5>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="form-group col-md-12">
                                                <div class="table-responsive" id="listaItem" style="height:485px"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btnCancelarForm" id="btnCancelarForm1" title="Cancelar"><i class="fa fa-undo" aria-hidden="true"></i>&nbsp;Cancelar</button>
                                        <button class="btnGuardarForm bg-customer" id="btnSeleccionarItems" title="btn btn-success" disabled><span class="fa fa-hand-o-left"></span>&nbsp;Agregar Items</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="styleSelector">
        </div>
    </div>
</div>

<iframe name="print_frame" width="0" height="0" frameborder="0" src="about:blank"></iframe>
<script src="~/Riztie/Js/App/AppPlane.js"></script>
